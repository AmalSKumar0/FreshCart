{% extends 'seller/baseDash.html' %} {% block title %}
Home - FreshCart
{%endblock %} {% block content %} {% load static %}
<div class="main-wrapper">
   <!-- navbar vertical -->
   <!-- navbar -->
 <nav class="navbar-vertical-nav d-none d-xl-block">
 <div class="navbar-vertical">
 <div class="px-4 py-5">
 <a href="{% url 'home' %}" class="navbar-brand">
  <img src="{% static 'images/logo/freshcart-logo.svg' %}" alt="" />
 </a>
 </div>
<div class="navbar-vertical-content flex-grow-1" data-simplebar="">
<ul class="navbar-nav flex-column" id="sideNavbar">
 <li class="nav-item">
   <a class="nav-link active" href="{% url 'seller_dashboard' %}">
     <div class="d-flex align-items-center">
       <span class="nav-link-icon"><i class="bi bi-house"></i></span>
       <span class="nav-link-text">Dashboard</span>
     </div>
   </a>
 </li>
 <li class="nav-item mt-6 mb-3">
   <span class="nav-label">Store Managements</span>
 </li>
 <li class="nav-item">
   <a class="nav-link " href="{% url 'allProducts' %}">
     <div class="d-flex align-items-center">
       <span class="nav-link-icon"><i class="bi bi-cart"></i></span>
       <span class="nav-link-text">Products</span>
     </div>
   </a>
 </li>
 <li class="nav-item">
   <a
     class="nav-link  collapsed "
     href="{% url 'allOrders' %}"
   >
     <div class="d-flex align-items-center">
       <span class="nav-link-icon"><i class="bi bi-bag"></i></span>
       <span class="nav-link-text">Orders</span>
     </div>
   </a>

 </li>

 <li class="nav-item">
   <a
     class="nav-link  collapsed "
     href="{% url 'viewCustomers' %}"
   >
     <div class="d-flex align-items-center">
       <span class="nav-link-icon"><i class="bi bi-people"></i></span>
       <span class="nav-link-text">Customers</span>
        </div>
   </a>
 </li>

 <li class="nav-item">
   <a class="nav-link " href="{% url 'allreviews' %}">
     <div class="d-flex align-items-center">
       <span class="nav-link-icon"><i class="bi bi-star"></i></span>
       <span class="nav-link-text">Reviews</span>
     </div>
   </a>
 </li>
 <!-- Nav item -->
 
</ul>
</div>
</div>
</nav>

<nav class="navbar-vertical-nav offcanvas offcanvas-start navbar-offcanvac" tabindex="-1" id="offcanvasExample">
<div class="navbar-vertical">
<div class="navbar-vertical">
<div class="px-4 py-5">
<a href="../index.html" class="navbar-brand">
 <img src="../assets/images/logo/freshcart-logo.svg" alt="" />
</a>
</div>
<div class="navbar-vertical-content flex-grow-1" data-simplebar="">
<ul class="navbar-nav flex-column" id="sideNavbar">
 <li class="nav-item">
   <a class="nav-link active" href="{% url 'seller_dashboard' %}">
     <div class="d-flex align-items-center">
       <span class="nav-link-icon"><i class="bi bi-house"></i></span>
       <span class="nav-link-text">Dashboard</span>
     </div>
   </a>
 </li>
 <li class="nav-item mt-6 mb-3">
   <span class="nav-label">Store Managements</span>
 </li>
 <li class="nav-item">
   <a class="nav-link   " href="{% url 'allProducts' %}">
     <div class="d-flex align-items-center">
       <span class="nav-link-icon"><i class="bi bi-cart"></i></span>
       <span class="nav-link-text">Products</span>
     </div>
   </a>
 </li>
 <li class="nav-item">
   <a
     class="nav-link  collapsed "
     href="{% url 'allOrders' %}"
   >
     <div class="d-flex align-items-center">
       <span class="nav-link-icon"><i class="bi bi-bag"></i></span>
       <span class="nav-link-text">Orders</span>
     </div>
   </a>

 </li>

 <li class="nav-item">
   <a
     class="nav-link  collapsed "
     href="{% url 'viewCustomers' %}"
    
   >
     <div class="d-flex align-items-center">
       <span class="nav-link-icon"><i class="bi bi-people"></i></span>
       <span class="nav-link-text">Customers</span>
        </div>
   </a>
 </li>

 <li class="nav-item">
   <a class="nav-link " href="{% url 'allreviews' %}">
     <div class="d-flex align-items-center">
       <span class="nav-link-icon"><i class="bi bi-star"></i></span>
       <span class="nav-link-text">Reviews</span>
     </div>
   </a>
 </li>
 <!-- Nav item -->
 
</ul>
</div>
</div>
</div>
</nav>
            <!-- main wrapper -->
            <main class="main-content-wrapper">
                <section class="container">
                   <!-- row -->
                   <div class="row mb-8">
                      <div class="col-md-12">
                         <!-- card -->
                         <div
                            class="card bg-light border-0 rounded-4"
                            style="background-image: url(../assets/images/slider/slider-image-1.jpg); background-repeat: no-repeat; background-size: cover; background-position: right">
                            <div class="card-body p-lg-12">
                               <h1>Welcome back! {{user.name}}</h1>
                               <p>Sell your products with us</p>
                               <a href="{% url 'add_product' %}" class="btn btn-primary">Add Product</a>
                            </div>
                         </div>
                      </div>
                   </div>
                   <!-- table -->
                   <div class="table-responsive-xl mb-6 mb-lg-0">
                      <div class="row flex-nowrap pb-3 pb-lg-0">
                         <div class="col-lg-4 col-12 mb-6">
                            <!-- card -->
                            <div class="card h-100 card-lg">
                               <!-- card body -->
                               <div class="card-body p-6">
                                  <!-- heading -->
                                  <div class="d-flex justify-content-between align-items-center mb-6">
                                     <div>
                                        <h4 class="mb-0 fs-5">Earnings</h4>
                                     </div>
                                     <div class="icon-shape icon-md bg-light-danger text-dark-danger rounded-circle">
                                        <div class="bi bi-currency-rupees fs-5">₹</div>
                                     </div>
                                  </div>
                                  <!-- project number -->
                                  <div class="lh-1">
                                     <h1 class="mb-2 fw-bold fs-2">₹{{monthly_earnings}}</h1>
                                     <span>Monthly revenue</span>
                                  </div>
                               </div>
                            </div>
                         </div>
                         <div class="col-lg-4 col-12 mb-6">
                            <!-- card -->
                            <div class="card h-100 card-lg">
                               <!-- card body -->
                               <div class="card-body p-6">
                                  <!-- heading -->
                                  <div class="d-flex justify-content-between align-items-center mb-6">
                                     <div>
                                        <h4 class="mb-0 fs-5">Orders</h4>
                                     </div>
                                     <div class="icon-shape icon-md bg-light-warning text-dark-warning rounded-circle">
                                        <i class="bi bi-cart fs-5"></i>
                                     </div>
                                  </div>
                                  <!-- project number -->
                                  <div class="lh-1">
                                     <h1 class="mb-2 fw-bold fs-2">{{total_orders}}</h1>
                                     <span>
                                        <span class="text-dark me-1">{{two_day_sales}}</span>
                                        New Orders In 2 Days
                                     </span>
                                  </div>
                               </div>
                            </div>
                         </div>
                         <div class="col-lg-4 col-12 mb-6">
                            <!-- card -->
                            <div class="card h-100 card-lg">
                               <!-- card body -->
                               <div class="card-body p-6">
                                  <!-- heading -->
                                  <div class="d-flex justify-content-between align-items-center mb-6">
                                     <div>
                                        <h4 class="mb-0 fs-5">Customer</h4>
                                     </div>
                                     <div class="icon-shape icon-md bg-light-info text-dark-info rounded-circle">
                                        <i class="bi bi-people fs-5"></i>
                                     </div>
                                  </div>
                                  <!-- project number -->
                                  <div class="lh-1">
                                     <h1 class="mb-2 fw-bold fs-2">{{noofcustomers}}</h1>
                                     <span>
                                        <span class="text-dark me-1">{{two_day_customers}}</span>
                                        new in 2 days
                                     </span>
                                  </div>
                               </div>
                            </div>
                         </div>
                      </div>
                   </div>
 
                   <!-- row -->
                   <div class="row">
                      <div class="col-xl-8 col-lg-6 col-md-12 col-12 mb-6">
                         <!-- card -->
                         <div class="card h-100 card-lg">
                            <div class="card-body p-6">
                               <!-- heading -->
                               <div class="d-flex justify-content-between">
                                  <div>
                                     <h3 class="mb-1 fs-5">Revenue</h3>
                                     <small>(+100%) than last year</small>
                                  </div>
                                  <div>
                                     <!-- select option -->
                                     <select class="form-select" onchange="location = this.value;">
                                       <option value="{% url 'seller_dashboard' %}?period=15_days" {% if period == '15_days' %} selected {% endif %}>15 days</option>
                                       <option value="{% url 'seller_dashboard' %}?period=4_weeks" {% if period == '4_weeks' %} selected {% endif %}>4 weeks</option>
                                       <option value="{% url 'seller_dashboard' %}?period=months" {% if period == 'months' %} selected {% endif %}>Months</option>
                                    </select>
                                  </div>
                               </div>
                               <!-- chart -->
                               <div id="revenueChart" class="mt-6"></div>
                            </div>
                         </div>
                      </div>
                      <div class="col-xl-4 col-lg-6 col-12 mb-6">
                         <!-- card -->
                         <div class="card h-100 card-lg">
                            <!-- card body -->
                            <div class="card-body p-6">
                               <!-- heading -->
                               <h3 class="mb-0 fs-5">Total Sales</h3>
                               <div id="totalSale" class="mt-6 d-flex justify-content-center"></div>
                               <div class="mt-4">
                                  <!-- list -->
                                  <ul class="list-unstyled mb-0">
                                     <li class="mb-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" fill="currentColor" class="bi bi-circle-fill text-primary" viewBox="0 0 16 16">
                                           <circle cx="8" cy="8" r="8" />
                                        </svg>
                                        <span class="ms-1">
                                           <span class="text-dark">Completed {{completed_orders}}</span>
                                           ({{completedPer}}%)
                                        </span>
                                     </li>
                                     <li class="mb-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" fill="currentColor" class="bi bi-circle-fill text-warning" viewBox="0 0 16 16">
                                           <circle cx="8" cy="8" r="8" />
                                        </svg>
                                        <span class="ms-1">
                                           <span class="text-dark">Pending {{pending_orders}}</span>
                                           ({{PendingPer}}%)
                                        </span>
                                     </li>
                                     <li class="mb-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" fill="currentColor" class="bi bi-circle-fill text-danger" viewBox="0 0 16 16">
                                           <circle cx="8" cy="8" r="8" />
                                        </svg>
                                        <span class="ms-1">
                                           <span class="text-dark">Cancelled {{cancelled_orders}}</span>
                                           ({{cancelledPer}}%)
                                        </span>
                                     </li>
                                  </ul>
                               </div>
                            </div>
                         </div>
                      </div>
                   </div>
                   <!-- row -->
                  
                </section>
             </main>
          </div>
       </div>
       <script src="{% static 'js/theme.min.js' %}"></script>

<script src="{% static 'libs/apexcharts/dist/apexcharts.min.js' %}"></script>
<script>
   const theme = {
  primary: "var(--fc-primary)",
  secondary: "var(--fc-secondary)",
  success: "var(--fc-success)",
  info: "var(--fc-info)",
  warning: "var(--fc-warning)",
  danger: "var(--fc-danger)",
  dark: "var(--fc-dark)",
  light: "var(--fc-light)",
  white: "var(--fc-white)",
  gray100: "var(--fc-gray-100)",
  gray200: "var(--fc-gray-200)",
  gray300: "var(--fc-gray-300)",
  gray400: "var(--fc-gray-400)",
  gray500: "var(--fc-gray-500)",
  gray600: "var(--fc-gray-600)",
  gray700: "var(--fc-gray-700)",
  gray800: "var(--fc-gray-800)",
  gray900: "var(--fc-gray-900)",
  black: "var(--fc-black)",
  transparent: "transparent",
};
(window.theme = theme),
  (function () {
    "use strict";
    var e;
    document.getElementById("revenueChart") &&
      ((e = {
      series: [
        { name: "Total Income", data: [ {% for sale in daily_sales %} {{sale.income}},{% endfor %} ] },
        { name: "Total Expense", data: [ {% for sale in daily_sales %} {{sale.expense}},{% endfor %} ] },
      ],
      labels: [
      {% for sale in daily_sales %} '{{sale.day}}',{% endfor %}
      ],
        chart: { height: 350, type: "area", toolbar: { show: !1 } },
        dataLabels: { enabled: !1 },
        markers: { size: 5, hover: { size: 6, sizeOffset: 3 } },
        colors: ["#0aad0a", "#ffc107"],
        stroke: { curve: "smooth", width: 2 },
        grid: { borderColor: window.theme.gray300 },
        xaxis: {
          labels: {
            show: !0,
            align: "right",
            minWidth: 0,
            maxWidth: 160,
            style: {
              fontSize: "12px",
              fontWeight: 400,
              colors: [window.theme.gray600],
              fontFamily: '"Inter", "sans-serif"',
            },
          },
          axisBorder: {
            show: !0,
            color: window.theme.gray300,
            height: 1,
            width: "100%",
            offsetX: 0,
            offsetY: 0,
          },
          axisTicks: {
            show: !0,
            borderType: "solid",
            color: window.theme.gray300,
            height: 6,
            offsetX: 0,
            offsetY: 0,
          },
        },
        legend: {
          position: "top",
          fontWeight: 600,
          color: window.theme.gray600,
          markers: {
            width: 8,
            height: 8,
            strokeWidth: 0,
            strokeColor: "#fff",
            fillColors: void 0,
            radius: 12,
            customHTML: void 0,
            onClick: void 0,
            offsetX: 0,
            offsetY: 0,
          },
          labels: { colors: window.theme.gray600, useSeriesColors: !1 },
        },
        yaxis: {
          labels: {
            formatter: function (e) {
              return e;
            },
            show: !0,
            align: "right",
            minWidth: 0,
            maxWidth: 160,
            style: {
              fontSize: "12px",
              fontWeight: 400,
              colors: window.theme.gray600,
              fontFamily: '"Inter", "sans-serif"',
            },
          },
        },
      }),
      new ApexCharts(document.getElementById("revenueChart"), e).render()),
      document.getElementById("totalSale") &&
        ((e = {
          series: [ {{completed_orders}} , {{pending_orders}}, {{cancelled_orders}}],
          labels: ["Completed", "Pending", "Cancelled"],
          colors: ["#0aad0a", "#ffc107", "#db3030"],
          chart: { type: "donut", height: 280 },
          legend: { show: !1 },
          dataLabels: { enabled: !1 },
          plotOptions: {
            pie: {
              donut: {
                size: "85%",
                background: "transparent",
                labels: {
                  show: !0,
                  name: {
                    show: !0,
                    fontSize: "22px",
                    fontFamily: '"Inter", "sans-serif"',
                    fontWeight: 600,
                    colors: [window.theme.gray600],
                    offsetY: -10,
                    formatter: function (e) {
                      return e;
                    },
                  },
                  value: {
                    show: !0,
                    fontSize: "24px",
                    fontFamily: '"Inter", "sans-serif"',
                    fontWeight: 800,
                    colors: window.theme.gray800,
                    offsetY: 8,
                    formatter: function (e) {
                      return e;
                    },
                  },
                  total: {
                    show: !0,
                    showAlways: !1,
                    label: "Total Sales",
                    fontSize: "16px",
                    fontFamily: '"Inter", "sans-serif"',
                    fontWeight: 400,
                    colors: window.theme.gray400,
                    formatter: function (e) {
                      return e.globals.seriesTotals.reduce((e, r) => e + r, 0);
                    },
                  },
                },
              },
            },
          },
          stroke: { width: 0 },
          responsive: [
            {
              breakpoint: 1400,
              options: { chart: { type: "donut", width: 290, height: 330 } },
            },
          ],
        }),
        new ApexCharts(document.getElementById("totalSale"), e).render());
  })();

</script>    {% endblock %}